(this["webpackJsonpposts-app"]=this["webpackJsonpposts-app"]||[]).push([[0],{19:function(e,t,n){e.exports=n(47)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(18),c=n.n(o),s=(n(24),n(25),n(8)),l=n(3),i=n(4),u=n(6),d=n(5),p=n(7),h=(n(26),function(e){return a.a.createElement("article",{className:"Post",onClick:function(){e.click(e.id)}},a.a.createElement("h1",null,e.title),a.a.createElement("div",{className:"Info"},a.a.createElement("div",{className:"Author"},e.author)))}),m=(n(27),n(2)),f=n.n(m),v=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={selectedPost:null,hasLoaded:!1,error:!1},n.deletePostHandler=function(){f.a.delete("/posts/"+n.props.selectedId).then((function(e){console.log("Deleted post response:",e)})).catch((function(e){n.setState({error:!0})}))},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;console.log("[FullPost.js componentDidUpdate]"),e.selectedId!==this.props.selectedId&&(console.log("Accessing server..."),f.a.get("/posts/"+this.props.selectedId).then((function(e){console.log(e),n.setState({selectedPost:e.data,hasLoaded:!0})})).catch((function(e){n.setState({error:!0})})))}},{key:"render",value:function(){console.log("selectedId:",this.props.selectedId,"selectedPost:",this.state.selectedPost);var e=a.a.createElement("p",null,"Please select a Post!");return this.props.selectedId&&(e=this.state.error?a.a.createElement("div",null,"Error accessing server"):this.state.hasLoaded?a.a.createElement("div",{className:"FullPost"},a.a.createElement("h1",null,this.state.selectedPost.title),a.a.createElement("p",null,this.state.selectedPost.body),a.a.createElement("div",{className:"Edit"},a.a.createElement("button",{className:"Delete",onClick:this.deletePostHandler},"Delete"))):a.a.createElement("div",null,"Loading......")),e}}]),t}(r.Component);n(45);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var g=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={title:"",content:"",author:"Max"},n.changeHandler=function(e){n.setState(Object(s.a)({},e.target.name,e.target.value))},n.addPostHandler=function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.state);f.a.post("/posts/",e).then((function(e){console.log("Post Data",e)}))},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"NewPost"},a.a.createElement("h1",null,"Add a Post"),a.a.createElement("label",null,"Title"),a.a.createElement("input",{type:"text",value:this.state.title,name:"title",onChange:this.changeHandler}),a.a.createElement("label",null,"Content"),a.a.createElement("textarea",{rows:"4",name:"content",value:this.state.content,onChange:this.changeHandler}),a.a.createElement("label",null,"Author"),a.a.createElement("select",{value:this.state.author,name:"author",onChange:this.changeHandler},a.a.createElement("option",null),a.a.createElement("option",{value:"Dilpreet"},"Dilpreet"),a.a.createElement("option",{value:"Anter"},"Anter")),a.a.createElement("button",{onClick:this.addPostHandler},"Add Post"))}}]),t}(r.Component),O=(n(46),f.a.create({baseURL:"https://jsonplaceholder.typicode.com"}));O.defaults.headers.common.Authorization="Auth token using instance";var E=O;function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var y=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={posts:[],selectedId:null,error:!1},n.clickHandler=function(e){n.setState({selectedId:e})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("[Blog.js componentDidMount]"),E.get("/posts/").then((function(t){var n=t.data.slice(0,4).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{author:"Jasnoor"})}));e.setState({posts:n})})).catch((function(t){return e.setState({error:!0})}))}},{key:"render",value:function(){var e=this,t=a.a.createElement("div",null,"Something went wrong!");return this.state.error||(t=this.state.posts.map((function(t){return a.a.createElement(h,{key:t.id,id:t.id,title:t.title,author:t.author,click:e.clickHandler})}))),a.a.createElement("div",null,a.a.createElement("section",{className:"Posts"},t),a.a.createElement("section",null,a.a.createElement(v,{selectedId:this.state.selectedId})),a.a.createElement("section",null,a.a.createElement(g,null)))}}]),t}(r.Component);var P=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.defaults.baseURL="https://jsonplaceholder.typicode.com",f.a.defaults.headers.common.Authorizations="Auth token",f.a.defaults.headers.post["Content-Type"]="application/json",f.a.interceptors.request.use((function(e){return console.log("Request received in interceptors:",e),e}),(function(e){return console.log("Error received in interceptors:",e),Promise.reject(e)})),f.a.interceptors.response.use((function(e){return console.log("Response received in interceptors:",e),e}),(function(e){return console.log("Error received in interceptors:",e),Promise.reject(e)})),c.a.render(a.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.ee2e7aef.chunk.js.map